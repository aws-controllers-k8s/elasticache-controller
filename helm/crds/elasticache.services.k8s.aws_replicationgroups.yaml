---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: replicationgroups.elasticache.services.k8s.aws
spec:
  group: elasticache.services.k8s.aws
  names:
    kind: ReplicationGroup
    listKind: ReplicationGroupList
    plural: replicationgroups
    singular: replicationgroup
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ReplicationGroup is the Schema for the ReplicationGroups API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              ReplicationGroupSpec defines the desired state of ReplicationGroup.

              Contains all of the attributes of a specific Valkey or Redis OSS replication
              group.
            properties:
              atRestEncryptionEnabled:
                type: boolean
              authToken:
                description: |-
                  SecretKeyReference combines a k8s corev1.SecretReference with a
                  specific key within the referred-to Secret
                properties:
                  key:
                    description: Key is the key within the secret
                    type: string
                  name:
                    description: name is unique within a namespace to reference a
                      secret resource.
                    type: string
                  namespace:
                    description: namespace defines the space within which the secret
                      name must be unique.
                    type: string
                required:
                - key
                type: object
                x-kubernetes-map-type: atomic
              automaticFailoverEnabled:
                type: boolean
              cacheNodeType:
                type: string
              cacheParameterGroupName:
                type: string
              cacheParameterGroupRef:
                description: "AWSResourceReferenceWrapper provides a wrapper around
                  *AWSResourceReference\ntype to provide more user friendly syntax
                  for references using 'from' field\nEx:\nAPIIDRef:\n\n\tfrom:\n\t
                  \ name: my-api"
                properties:
                  from:
                    description: |-
                      AWSResourceReference provides all the values necessary to reference another
                      k8s resource for finding the identifier(Id/ARN/Name)
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    type: object
                type: object
              cacheSecurityGroupNames:
                items:
                  type: string
                type: array
              cacheSubnetGroupName:
                type: string
              cacheSubnetGroupRef:
                description: "AWSResourceReferenceWrapper provides a wrapper around
                  *AWSResourceReference\ntype to provide more user friendly syntax
                  for references using 'from' field\nEx:\nAPIIDRef:\n\n\tfrom:\n\t
                  \ name: my-api"
                properties:
                  from:
                    description: |-
                      AWSResourceReference provides all the values necessary to reference another
                      k8s resource for finding the identifier(Id/ARN/Name)
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    type: object
                type: object
              dataTieringEnabled:
                type: boolean
              description:
                type: string
              engine:
                type: string
              engineVersion:
                type: string
              kmsKeyID:
                type: string
              logDeliveryConfigurations:
                items:
                  description: Specifies the destination, format and type of the logs.
                  properties:
                    destinationDetails:
                      description: |-
                        Configuration details of either a CloudWatch Logs destination or Kinesis
                        Data Firehose destination.
                      properties:
                        cloudWatchLogsDetails:
                          description: The configuration details of the CloudWatch
                            Logs destination.
                          properties:
                            logGroup:
                              type: string
                          type: object
                        kinesisFirehoseDetails:
                          description: The configuration details of the Kinesis Data
                            Firehose destination.
                          properties:
                            deliveryStream:
                              type: string
                          type: object
                      type: object
                    destinationType:
                      type: string
                    enabled:
                      type: boolean
                    logFormat:
                      type: string
                    logType:
                      type: string
                  type: object
                type: array
              multiAZEnabled:
                type: boolean
              nodeGroupConfiguration:
                items:
                  description: |-
                    Node group (shard) configuration options. Each node group (shard) configuration
                    has the following: Slots, PrimaryAvailabilityZone, ReplicaAvailabilityZones,
                    ReplicaCount.
                  properties:
                    nodeGroupID:
                      type: string
                    primaryAvailabilityZone:
                      type: string
                    primaryOutpostARN:
                      type: string
                    replicaAvailabilityZones:
                      items:
                        type: string
                      type: array
                    replicaCount:
                      format: int64
                      type: integer
                    replicaOutpostARNs:
                      items:
                        type: string
                      type: array
                    slots:
                      type: string
                  type: object
                type: array
              notificationTopicARN:
                type: string
              numNodeGroups:
                format: int64
                type: integer
              port:
                format: int64
                type: integer
              preferredCacheClusterAZs:
                items:
                  type: string
                type: array
              preferredMaintenanceWindow:
                type: string
              primaryClusterID:
                type: string
              replicasPerNodeGroup:
                format: int64
                type: integer
              replicationGroupID:
                type: string
              securityGroupIDs:
                items:
                  type: string
                type: array
              securityGroupRefs:
                items:
                  description: "AWSResourceReferenceWrapper provides a wrapper around
                    *AWSResourceReference\ntype to provide more user friendly syntax
                    for references using 'from' field\nEx:\nAPIIDRef:\n\n\tfrom:\n\t
                    \ name: my-api"
                  properties:
                    from:
                      description: |-
                        AWSResourceReference provides all the values necessary to reference another
                        k8s resource for finding the identifier(Id/ARN/Name)
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                      type: object
                  type: object
                type: array
              snapshotARNs:
                items:
                  type: string
                type: array
              snapshotName:
                type: string
              snapshotRetentionLimit:
                format: int64
                type: integer
              snapshotWindow:
                type: string
              tags:
                items:
                  description: |-
                    A tag that can be added to an ElastiCache cluster or replication group. Tags
                    are composed of a Key/Value pair. You can use tags to categorize and track
                    all your ElastiCache resources, with the exception of global replication
                    group. When you add or remove tags on replication groups, those actions will
                    be replicated to all nodes in the replication group. A tag with a null Value
                    is permitted.
                  properties:
                    key:
                      type: string
                    value:
                      type: string
                  type: object
                type: array
              transitEncryptionEnabled:
                type: boolean
              userGroupIDs:
                items:
                  type: string
                type: array
            required:
            - description
            - replicationGroupID
            type: object
          status:
            description: ReplicationGroupStatus defines the observed state of ReplicationGroup
            properties:
              ackResourceMetadata:
                description: |-
                  All CRs managed by ACK have a common `Status.ACKResourceMetadata` member
                  that is used to contain resource sync state, account ownership,
                  constructed ARN for the resource
                properties:
                  arn:
                    description: |-
                      ARN is the Amazon Resource Name for the resource. This is a
                      globally-unique identifier and is set only by the ACK service controller
                      once the controller has orchestrated the creation of the resource OR
                      when it has verified that an "adopted" resource (a resource where the
                      ARN annotation was set by the Kubernetes user on the CR) exists and
                      matches the supplied CR's Spec field values.
                      https://github.com/aws/aws-controllers-k8s/issues/270
                    type: string
                  ownerAccountID:
                    description: |-
                      OwnerAccountID is the AWS Account ID of the account that owns the
                      backend AWS service API resource.
                    type: string
                  region:
                    description: Region is the AWS region in which the resource exists
                      or will exist.
                    type: string
                required:
                - ownerAccountID
                - region
                type: object
              allowedScaleDownModifications:
                description: |-
                  A string list, each element of which specifies a cache node type which you
                  can use to scale your cluster or replication group. When scaling down a Valkey
                  or Redis OSS cluster or replication group using ModifyCacheCluster or ModifyReplicationGroup,
                  use a value from this list for the CacheNodeType parameter.
                items:
                  type: string
                type: array
              allowedScaleUpModifications:
                description: |-
                  A string list, each element of which specifies a cache node type which you
                  can use to scale your cluster or replication group.

                  When scaling up a Valkey or Redis OSS cluster or replication group using
                  ModifyCacheCluster or ModifyReplicationGroup, use a value from this list
                  for the CacheNodeType parameter.
                items:
                  type: string
                type: array
              authTokenEnabled:
                description: |-
                  A flag that enables using an AuthToken (password) when issuing Valkey or
                  Redis OSS commands.

                  Default: false
                type: boolean
              authTokenLastModifiedDate:
                description: The date the auth token was last modified
                format: date-time
                type: string
              autoMinorVersionUpgrade:
                description: |-
                  If you are running Valkey 7.2 and above, or Redis OSS engine version 6.0
                  and above, set this parameter to yes if you want to opt-in to the next auto
                  minor version upgrade campaign. This parameter is disabled for previous versions.
                type: boolean
              automaticFailover:
                description: |-
                  Indicates the status of automatic failover for this Valkey or Redis OSS replication
                  group.
                type: string
              clusterEnabled:
                description: |-
                  A flag indicating whether or not this replication group is cluster enabled;
                  i.e., whether its data can be partitioned across multiple shards (API/CLI:
                  node groups).

                  Valid values: true | false
                type: boolean
              conditions:
                description: |-
                  All CRs managed by ACK have a common `Status.Conditions` member that
                  contains a collection of `ackv1alpha1.Condition` objects that describe
                  the various terminal states of the CR and its backend AWS service API
                  resource
                items:
                  description: |-
                    Condition is the common struct used by all CRDs managed by ACK service
                    controllers to indicate terminal states  of the CR and its backend AWS
                    service API resource
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      type: string
                    reason:
                      description: The reason for the condition's last transition.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the Condition
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              configurationEndpoint:
                description: |-
                  The configuration endpoint for this replication group. Use the configuration
                  endpoint to connect to this replication group.
                properties:
                  address:
                    type: string
                  port:
                    format: int64
                    type: integer
                type: object
              dataTiering:
                description: |-
                  Enables data tiering. Data tiering is only supported for replication groups
                  using the r6gd node type. This parameter must be set to true when using r6gd
                  nodes. For more information, see Data tiering (https://docs.aws.amazon.com/AmazonElastiCache/latest/dg/data-tiering.html).
                type: string
              events:
                description: |-
                  A list of events. Each element in the list contains detailed information
                  about one event.
                items:
                  description: |-
                    Represents a single occurrence of something interesting within the system.
                    Some examples of events are creating a cluster, adding or removing a cache
                    node, or rebooting a node.
                  properties:
                    date:
                      format: date-time
                      type: string
                    message:
                      type: string
                    sourceIdentifier:
                      type: string
                    sourceType:
                      type: string
                  type: object
                type: array
              globalReplicationGroupInfo:
                description: |-
                  The name of the Global datastore and role of this replication group in the
                  Global datastore.
                properties:
                  globalReplicationGroupID:
                    type: string
                  globalReplicationGroupMemberRole:
                    type: string
                type: object
              logDeliveryConfigurations:
                description: Returns the destination, format and type of the logs.
                items:
                  description: Returns the destination, format and type of the logs.
                  properties:
                    destinationDetails:
                      description: |-
                        Configuration details of either a CloudWatch Logs destination or Kinesis
                        Data Firehose destination.
                      properties:
                        cloudWatchLogsDetails:
                          description: The configuration details of the CloudWatch
                            Logs destination.
                          properties:
                            logGroup:
                              type: string
                          type: object
                        kinesisFirehoseDetails:
                          description: The configuration details of the Kinesis Data
                            Firehose destination.
                          properties:
                            deliveryStream:
                              type: string
                          type: object
                      type: object
                    destinationType:
                      type: string
                    logFormat:
                      type: string
                    logType:
                      type: string
                    message:
                      type: string
                    status:
                      type: string
                  type: object
                type: array
              memberClusters:
                description: The names of all the cache clusters that are part of
                  this replication group.
                items:
                  type: string
                type: array
              memberClustersOutpostARNs:
                description: The outpost ARNs of the replication group's member clusters.
                items:
                  type: string
                type: array
              multiAZ:
                description: |-
                  A flag indicating if you have Multi-AZ enabled to enhance fault tolerance.
                  For more information, see Minimizing Downtime: Multi-AZ (http://docs.aws.amazon.com/AmazonElastiCache/latest/dg/AutoFailover.html)
                type: string
              nodeGroups:
                description: |-
                  A list of node groups in this replication group. For Valkey or Redis OSS
                  (cluster mode disabled) replication groups, this is a single-element list.
                  For Valkey or Redis OSS (cluster mode enabled) replication groups, the list
                  contains an entry for each node group (shard).
                items:
                  description: |-
                    Represents a collection of cache nodes in a replication group. One node in
                    the node group is the read/write primary node. All the other nodes are read-only
                    Replica nodes.
                  properties:
                    nodeGroupID:
                      type: string
                    nodeGroupMembers:
                      items:
                        description: Represents a single node within a node group
                          (shard).
                        properties:
                          cacheClusterID:
                            type: string
                          cacheNodeID:
                            type: string
                          currentRole:
                            type: string
                          preferredAvailabilityZone:
                            type: string
                          preferredOutpostARN:
                            type: string
                          readEndpoint:
                            description: |-
                              Represents the information required for client programs to connect to a cache
                              node. This value is read-only.
                            properties:
                              address:
                                type: string
                              port:
                                format: int64
                                type: integer
                            type: object
                        type: object
                      type: array
                    primaryEndpoint:
                      description: |-
                        Represents the information required for client programs to connect to a cache
                        node. This value is read-only.
                      properties:
                        address:
                          type: string
                        port:
                          format: int64
                          type: integer
                      type: object
                    readerEndpoint:
                      description: |-
                        Represents the information required for client programs to connect to a cache
                        node. This value is read-only.
                      properties:
                        address:
                          type: string
                        port:
                          format: int64
                          type: integer
                      type: object
                    slots:
                      type: string
                    status:
                      type: string
                  type: object
                type: array
              pendingModifiedValues:
                description: |-
                  A group of settings to be applied to the replication group, either immediately
                  or during the next maintenance window.
                properties:
                  authTokenStatus:
                    type: string
                  automaticFailoverStatus:
                    type: string
                  logDeliveryConfigurations:
                    items:
                      description: The log delivery configurations being modified
                      properties:
                        destinationDetails:
                          description: |-
                            Configuration details of either a CloudWatch Logs destination or Kinesis
                            Data Firehose destination.
                          properties:
                            cloudWatchLogsDetails:
                              description: The configuration details of the CloudWatch
                                Logs destination.
                              properties:
                                logGroup:
                                  type: string
                              type: object
                            kinesisFirehoseDetails:
                              description: The configuration details of the Kinesis
                                Data Firehose destination.
                              properties:
                                deliveryStream:
                                  type: string
                              type: object
                          type: object
                        destinationType:
                          type: string
                        logFormat:
                          type: string
                        logType:
                          type: string
                      type: object
                    type: array
                  primaryClusterID:
                    type: string
                  resharding:
                    description: The status of an online resharding operation.
                    properties:
                      slotMigration:
                        description: Represents the progress of an online resharding
                          operation.
                        properties:
                          progressPercentage:
                            type: number
                        type: object
                    type: object
                  userGroups:
                    description: The status of the user group update.
                    properties:
                      userGroupIDsToAdd:
                        items:
                          type: string
                        type: array
                      userGroupIDsToRemove:
                        items:
                          type: string
                        type: array
                    type: object
                type: object
              replicationGroupCreateTime:
                description: The date and time when the cluster was created.
                format: date-time
                type: string
              snapshottingClusterID:
                description: |-
                  The cluster ID that is used as the daily snapshot source for the replication
                  group.
                type: string
              status:
                description: |-
                  The current state of this replication group - creating, available, modifying,
                  deleting, create-failed, snapshotting.
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
